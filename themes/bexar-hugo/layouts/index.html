{{ define "main" }}

{{ $data := index .Site.Data .Site.Language.Lang }}

{{ if $data.homepage.slider.enable }}
{{ with $data.homepage.slider }}
{{ "<!-- slider -->" | safeHTML }}
<section>
  <div class="hero-slider">
    {{ range .slider_item }}
    {{ "<!-- slider item -->" | safeHTML }}
    <div class="hero-slider-item bg-cover hero-section"
      style="background-image: url('{{ .bg_image_webp | absURL }}'),url('{{ .bg_image | absURL }}');">
      <div class="container">
        <div class="row">
          <div class="col-lg-6" data-duration-in=".3" data-animation-in="{{ .animation }}" data-delay-in=".1">
            <span class="mb-0 letter-spacing">{{ .subtitle | markdownify }}</span>
            <h1 class="mb-4">{{ .title | markdownify }}</h1>
            <p class="mb-5">{{ .content | markdownify }}</p>
            {{ if .button.enable }}
            <a href="{{ .button.link | absLangURL }}" class="btn btn-primary-outline" data-duration-in=".3"
              data-animation-in="{{ .button.animation }}" data-delay-in=".4">{{ .button.label }}</a>
            {{ end }}
          </div>
        </div>
      </div>
    </div>
    {{ end }}
  </div>
</section>
{{ "<!-- /slider -->" | safeHTML }}
{{ end }}
{{ end }}
{{ if $data.homepage.about.enable }}
{{ "<!-- a propos -->" | safeHTML }}
<section class="section pt-0">
  {{ partial "about.html" . }}
</section>
{{ "<!-- /a propos -->" | safeHTML }}
{{ end }}

{{ if $data.homepage.team.enable }}
{{ partial "team.html" . }}
{{ end }}

{{ if $data.homepage.cta.enable }}
{{ with $data.homepage.cta }}
{{ "<!-- call to action -->" | safeHTML }}
<section class="section overlay-secondary bg-fixed"
  style="background-image: url('{{ .bg_image_webp | absURL }}'),url('{{ .bg_image | absURL }}');">
  <div class="container">
    <div class="row">
      <div class="col-lg-7 col-md-10 col-11 text-center mx-auto">
        <h2 class="section-title text-white">{{ .title | markdownify }}</h2>
        {{ if .button.enable }}
        {{ with .button }}
        <a href="{{ .link | absLangURL }}" class="btn btn-primary hover-ripple">{{ .label }}</a>
        {{ end }}
        {{ end }}
      </div>
    </div>
  </div>
</section>
{{ "<!-- /call to action -->" | safeHTML }}
{{ end }}
{{ end }}

{{ "<!-- blog -->" | safeHTML }}
{{ if $data.homepage.blog.enable }}
<section class="section bg-gray-white position-relative">
  <div class="container">
    <div class="row">
      <div class="col-12">
        {{ with $data.homepage.blog }}
        <div class="section-title-border"></div>
        <h4 class="section-title-sm">{{ .subtitle | markdownify }}</h4>
        <h2 class="section-title">{{ .title }}</h2>
        {{ end }}
      </div>
    </div>
    <div class="row">
      {{ "<!-- blog post -->" | safeHTML }}
      {{ range first 3 ( where .Site.RegularPages "Type" "post" )}}
      <article class="col-lg-4 col-sm-6 mb-lg-0 mb-4 zindex-1">
        {{ .Render "post" }}
      </article>
      {{ end }}
    </div>
  </div>
  {{ "<!-- background -->" | safeHTML }}
  <img class="img-fluid blog-shape-left" src="{{`images/backgrounds/blog-bg-left.webp` | relURL }}" alt=""
    onerror="this.src='{{`images/backgrounds/blog-bg-left.png` | relURL }}'">
  <img class="img-fluid blog-shape-right" src="{{`images/backgrounds/blog-bg-right.webp` | relURL }}" alt=""
    onerror="this.src='{{`images/backgrounds/blog-bg-right.png` | relURL }}'">
</section>
{{ end }}
{{ "<!-- /blog -->" | safeHTML }}

{{ end }}